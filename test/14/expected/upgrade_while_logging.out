-- upgrade_while_logging.sql : Upgrade from the previous to the next version while groups are in logging state.
--
-----------------------------
-- set the default_tablespace parameter to tspemaj to store new technical tables into this tablespace
-----------------------------
SET default_tablespace TO tspemaj;
-----------------------------
-- emaj update to the next version
-----------------------------
-- check the extension is available
select * from pg_available_extension_versions where name = 'emaj' order by version desc limit 2;
 name | version | installed | superuser | trusted | relocatable | schema |      requires       |                                            comment                                             
------+---------+-----------+-----------+---------+-------------+--------+---------------------+------------------------------------------------------------------------------------------------
 emaj | devel   | f         | t         | f       | f           | emaj   | {dblink,btree_gist} | E-Maj extension enables fine-grained write logging and time travel on subsets of the database.
 emaj | 4.7.0   | t         | t         | f       | f           | emaj   | {dblink,btree_gist} | E-Maj extension enables fine-grained write logging and time travel on subsets of the database.
(2 rows)

select relname from pg_catalog.pg_class, 
                    (select unnest(extconfig) as oid from pg_catalog.pg_extension where extname = 'emaj') as t 
  where t.oid = pg_class.oid
  order by 1;
           relname           
-----------------------------
 emaj_global_seq
 emaj_group
 emaj_group_hist
 emaj_hist
 emaj_hist_hist_id_seq
 emaj_log_session
 emaj_mark
 emaj_param
 emaj_rel_hist
 emaj_relation
 emaj_relation_change
 emaj_rlbk
 emaj_rlbk_plan
 emaj_rlbk_rlbk_id_seq
 emaj_rlbk_session
 emaj_rlbk_stat
 emaj_schema
 emaj_seq_hole
 emaj_sequence
 emaj_table
 emaj_time_stamp
 emaj_time_stamp_time_id_seq
 emaj_version_hist
(23 rows)

select * from emaj.emaj_verify_all();
                                                                                 emaj_verify_all                                                                                  
----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
 Warning: In tables group "myGroup1", the sequence "myschema1"."myTbl3_col31_seq" is linked to the table "myschema1"."myTbl3" but this table does not belong to any tables group.
 Warning: The 'dblink_user_password' parameter value is not set in the emaj_param table.
 No error detected
(3 rows)

-- process the extension upgrade
ALTER EXTENSION emaj UPDATE TO 'devel';
WARNING:  E-Maj upgrade: the E-Maj environment health check reports warning. You may execute "SELECT * FROM emaj.emaj_verify_all();" to get more details.
-----------------------------
-- check installation
-----------------------------
-- check impact in catalog
select extname, extversion from pg_extension where extname = 'emaj';
 extname | extversion 
---------+------------
 emaj    | devel
(1 row)

select relname from pg_catalog.pg_class, 
                    (select unnest(extconfig) as oid from pg_catalog.pg_extension where extname = 'emaj') as t 
  where t.oid = pg_class.oid
  order by 1;
           relname           
-----------------------------
 emaj_global_seq
 emaj_group
 emaj_group_hist
 emaj_hist
 emaj_hist_hist_id_seq
 emaj_log_session
 emaj_mark
 emaj_param
 emaj_rel_hist
 emaj_relation
 emaj_relation_change
 emaj_rlbk
 emaj_rlbk_plan
 emaj_rlbk_rlbk_id_seq
 emaj_rlbk_session
 emaj_rlbk_stat
 emaj_schema
 emaj_seq_hole
 emaj_sequence
 emaj_table
 emaj_time_stamp
 emaj_time_stamp_time_id_seq
 emaj_version_hist
(23 rows)

-- check the emaj_version_hist content
select verh_version from emaj.emaj_version_hist order by verh_time_range;
 verh_version 
--------------
 4.7.0
 <devel>
(2 rows)

select emaj.emaj_get_version();
 emaj_get_version 
------------------
 <devel>
(1 row)

-- check tables list
\d emaj*.*
        Composite type "emaj._report_message_type"
     Column     |  Type   | Collation | Nullable | Default 
----------------+---------+-----------+----------+---------
 rpt_msg_type   | integer |           |          | 
 rpt_severity   | integer |           |          | 
 rpt_text_var_1 | text    |           |          | 
 rpt_text_var_2 | text    |           |          | 
 rpt_text_var_3 | text    |           |          | 
 rpt_text_var_4 | text    |           |          | 
 rpt_int_var_1  | integer |           |          | 
 rpt_message    | text    |           |          | 

     Composite type "emaj._verify_groups_type"
   Column   | Type | Collation | Nullable | Default 
------------+------+-----------+----------+---------
 ver_schema | text |           |          | 
 ver_tblseq | text |           |          | 
 ver_group  | text |           |          | 
 ver_msg    | text |           |          | 

          Composite type "emaj.emaj_consolidable_rollback_type"
            Column             |  Type   | Collation | Nullable | Default 
-------------------------------+---------+-----------+----------+---------
 cons_group                    | text    |           |          | 
 cons_target_rlbk_mark_name    | text    |           |          | 
 cons_target_rlbk_mark_time_id | bigint  |           |          | 
 cons_end_rlbk_mark_name       | text    |           |          | 
 cons_end_rlbk_mark_time_id    | bigint  |           |          | 
 cons_rows                     | bigint  |           |          | 
 cons_marks                    | integer |           |          | 

               Composite type "emaj.emaj_detailed_log_stat_group_type"
          Column          |           Type           | Collation | Nullable | Default 
--------------------------+--------------------------+-----------+----------+---------
 stat_group               | text                     |           |          | 
 stat_schema              | text                     |           |          | 
 stat_table               | text                     |           |          | 
 stat_first_mark          | text                     |           |          | 
 stat_first_mark_datetime | timestamp with time zone |           |          | 
 stat_first_time_id       | bigint                   |           |          | 
 stat_last_mark           | text                     |           |          | 
 stat_last_mark_datetime  | timestamp with time zone |           |          | 
 stat_last_time_id        | bigint                   |           |          | 
 stat_role                | text                     |           |          | 
 stat_verb                | text                     |           |          | 
 stat_rows                | bigint                   |           |          | 

                       Sequence "emaj.emaj_global_seq"
  Type  | Start | Minimum |       Maximum       | Increment | Cycles? | Cache 
--------+-------+---------+---------------------+-----------+---------+-------
 bigint |     1 |       1 | 9223372036854775807 |         1 | no      |     1

                                                  Table "emaj.emaj_group"
          Column          |  Type   | Collation | Nullable |                            Default                             
--------------------------+---------+-----------+----------+----------------------------------------------------------------
 group_name               | text    |           | not null | 
 group_is_rollbackable    | boolean |           | not null | 
 group_pg_version         | text    |           | not null | "substring"(version(), 'PostgreSQL\s([.,0-9,A-Z,a-z]*)'::text)
 group_last_alter_time_id | bigint  |           |          | 
 group_is_logging         | boolean |           | not null | 
 group_is_rlbk_protected  | boolean |           | not null | 
 group_nb_table           | integer |           |          | 
 group_nb_sequence        | integer |           |          | 
 group_comment            | text    |           |          | 
Indexes:
    "emaj_group_pkey" PRIMARY KEY, btree (group_name), tablespace "tspemaj"
Foreign-key constraints:
    "emaj_group_group_last_alter_time_id_fkey" FOREIGN KEY (group_last_alter_time_id) REFERENCES emaj.emaj_time_stamp(time_id)
Referenced by:
    TABLE "emaj.emaj_mark" CONSTRAINT "emaj_mark_mark_group_fkey" FOREIGN KEY (mark_group) REFERENCES emaj.emaj_group(group_name) ON DELETE CASCADE
    TABLE "emaj.emaj_relation" CONSTRAINT "emaj_relation_rel_group_fkey" FOREIGN KEY (rel_group) REFERENCES emaj.emaj_group(group_name)
Tablespace: "tspemaj"

                   Table "emaj.emaj_group_hist"
        Column        |   Type    | Collation | Nullable | Default 
----------------------+-----------+-----------+----------+---------
 grph_group           | text      |           | not null | 
 grph_time_range      | int8range |           | not null | 
 grph_is_rollbackable | boolean   |           |          | 
 grph_log_sessions    | integer   |           |          | 
Indexes:
    "emaj_group_hist_pkey" PRIMARY KEY, btree (grph_group, grph_time_range), tablespace "tspemaj"
    "emaj_group_hist_grph_group_grph_time_range_excl" EXCLUDE USING gist (grph_group WITH =, grph_time_range WITH &&), tablespace "tspemaj"
    "emaj_group_hist_idx1" btree (upper(grph_time_range)), tablespace "tspemaj"
Tablespace: "tspemaj"

Index "emaj.emaj_group_hist_grph_group_grph_time_range_excl"
     Column      |     Type      | Key? |   Definition    
-----------------+---------------+------+-----------------
 grph_group      | gbtreekey_var | yes  | grph_group
 grph_time_range | int8range     | yes  | grph_time_range
gist, for table "emaj.emaj_group_hist"
Tablespace: "tspemaj"

        Index "emaj.emaj_group_hist_idx1"
 Column |  Type  | Key? |       Definition       
--------+--------+------+------------------------
 upper  | bigint | yes  | upper(grph_time_range)
btree, for table "emaj.emaj_group_hist"
Tablespace: "tspemaj"

          Index "emaj.emaj_group_hist_pkey"
     Column      |   Type    | Key? |   Definition    
-----------------+-----------+------+-----------------
 grph_group      | text      | yes  | grph_group
 grph_time_range | int8range | yes  | grph_time_range
primary key, btree, for table "emaj.emaj_group_hist"
Tablespace: "tspemaj"

     Index "emaj.emaj_group_pkey"
   Column   | Type | Key? | Definition 
------------+------+------+------------
 group_name | text | yes  | group_name
primary key, btree, for table "emaj.emaj_group"
Tablespace: "tspemaj"

                                     Table "emaj.emaj_hist"
    Column     |           Type           | Collation | Nullable |           Default            
---------------+--------------------------+-----------+----------+------------------------------
 hist_id       | bigint                   |           | not null | generated always as identity
 hist_datetime | timestamp with time zone |           | not null | clock_timestamp()
 hist_function | text                     |           | not null | 
 hist_event    | text                     |           |          | 
 hist_object   | text                     |           |          | 
 hist_wording  | text                     |           |          | 
 hist_user     | text                     |           |          | SESSION_USER
 hist_txid     | bigint                   |           |          | txid_current()
Indexes:
    "emaj_hist_pkey" PRIMARY KEY, btree (hist_id), tablespace "tspemaj"
Tablespace: "tspemaj"

                    Sequence "emaj.emaj_hist_hist_id_seq"
  Type  | Start | Minimum |       Maximum       | Increment | Cycles? | Cache 
--------+-------+---------+---------------------+-----------+---------+-------
 bigint |     1 |       1 | 9223372036854775807 |         1 | no      |     1
Sequence for identity column: emaj.emaj_hist.hist_id

     Index "emaj.emaj_hist_pkey"
 Column  |  Type  | Key? | Definition 
---------+--------+------+------------
 hist_id | bigint | yes  | hist_id
primary key, btree, for table "emaj.emaj_hist"
Tablespace: "tspemaj"

                Table "emaj.emaj_log_session"
     Column      |   Type    | Collation | Nullable | Default 
-----------------+-----------+-----------+----------+---------
 lses_group      | text      |           | not null | 
 lses_time_range | int8range |           | not null | 
 lses_marks      | integer   |           |          | 
 lses_log_rows   | bigint    |           |          | 
Indexes:
    "emaj_log_session_pkey" PRIMARY KEY, btree (lses_group, lses_time_range), tablespace "tspemaj"
    "emaj_log_session_idx1" btree (upper(lses_time_range)), tablespace "tspemaj"
    "emaj_log_session_lses_group_lses_time_range_excl" EXCLUDE USING gist (lses_group WITH =, lses_time_range WITH &&), tablespace "tspemaj"
Tablespace: "tspemaj"

       Index "emaj.emaj_log_session_idx1"
 Column |  Type  | Key? |       Definition       
--------+--------+------+------------------------
 upper  | bigint | yes  | upper(lses_time_range)
btree, for table "emaj.emaj_log_session"
Tablespace: "tspemaj"

Index "emaj.emaj_log_session_lses_group_lses_time_range_excl"
     Column      |     Type      | Key? |   Definition    
-----------------+---------------+------+-----------------
 lses_group      | gbtreekey_var | yes  | lses_group
 lses_time_range | int8range     | yes  | lses_time_range
gist, for table "emaj.emaj_log_session"
Tablespace: "tspemaj"

          Index "emaj.emaj_log_session_pkey"
     Column      |   Type    | Key? |   Definition    
-----------------+-----------+------+-----------------
 lses_group      | text      | yes  | lses_group
 lses_time_range | int8range | yes  | lses_time_range
primary key, btree, for table "emaj.emaj_log_session"
Tablespace: "tspemaj"

                    Composite type "emaj.emaj_log_stat_group_type"
          Column          |           Type           | Collation | Nullable | Default 
--------------------------+--------------------------+-----------+----------+---------
 stat_group               | text                     |           |          | 
 stat_schema              | text                     |           |          | 
 stat_table               | text                     |           |          | 
 stat_first_mark          | text                     |           |          | 
 stat_first_mark_datetime | timestamp with time zone |           |          | 
 stat_first_time_id       | bigint                   |           |          | 
 stat_last_mark           | text                     |           |          | 
 stat_last_mark_datetime  | timestamp with time zone |           |          | 
 stat_last_time_id        | bigint                   |           |          | 
 stat_rows                | bigint                   |           |          | 

                   Composite type "emaj.emaj_log_stat_sequence_type"
           Column           |           Type           | Collation | Nullable | Default 
----------------------------+--------------------------+-----------+----------+---------
 stat_group                 | text                     |           |          | 
 stat_first_mark            | text                     |           |          | 
 stat_first_mark_datetime   | timestamp with time zone |           |          | 
 stat_first_time_id         | bigint                   |           |          | 
 stat_is_log_start          | boolean                  |           |          | 
 stat_last_mark             | text                     |           |          | 
 stat_last_mark_datetime    | timestamp with time zone |           |          | 
 stat_last_time_id          | bigint                   |           |          | 
 stat_is_log_stop           | boolean                  |           |          | 
 stat_increments            | bigint                   |           |          | 
 stat_has_structure_changed | boolean                  |           |          | 
 stat_rollbacks             | integer                  |           |          | 

                    Composite type "emaj.emaj_log_stat_table_type"
          Column          |           Type           | Collation | Nullable | Default 
--------------------------+--------------------------+-----------+----------+---------
 stat_group               | text                     |           |          | 
 stat_first_mark          | text                     |           |          | 
 stat_first_mark_datetime | timestamp with time zone |           |          | 
 stat_first_time_id       | bigint                   |           |          | 
 stat_is_log_start        | boolean                  |           |          | 
 stat_last_mark           | text                     |           |          | 
 stat_last_mark_datetime  | timestamp with time zone |           |          | 
 stat_last_time_id        | bigint                   |           |          | 
 stat_is_log_stop         | boolean                  |           |          | 
 stat_changes             | bigint                   |           |          | 
 stat_rollbacks           | integer                  |           |          | 

                         Table "emaj.emaj_mark"
            Column            |  Type   | Collation | Nullable | Default 
------------------------------+---------+-----------+----------+---------
 mark_group                   | text    |           | not null | 
 mark_name                    | text    |           | not null | 
 mark_time_id                 | bigint  |           | not null | 
 mark_is_rlbk_protected       | boolean |           | not null | 
 mark_comment                 | text    |           |          | 
 mark_log_rows_before_next    | bigint  |           |          | 
 mark_logged_rlbk_target_mark | text    |           |          | 
Indexes:
    "emaj_mark_pkey" PRIMARY KEY, btree (mark_group, mark_name), tablespace "tspemaj"
    "emaj_mark_idx1" btree (mark_time_id), tablespace "tspemaj"
Foreign-key constraints:
    "emaj_mark_mark_group_fkey" FOREIGN KEY (mark_group) REFERENCES emaj.emaj_group(group_name) ON DELETE CASCADE
    "emaj_mark_mark_time_id_fkey" FOREIGN KEY (mark_time_id) REFERENCES emaj.emaj_time_stamp(time_id)
Tablespace: "tspemaj"

         Index "emaj.emaj_mark_idx1"
    Column    |  Type  | Key? |  Definition  
--------------+--------+------+--------------
 mark_time_id | bigint | yes  | mark_time_id
btree, for table "emaj.emaj_mark"
Tablespace: "tspemaj"

      Index "emaj.emaj_mark_pkey"
   Column   | Type | Key? | Definition 
------------+------+------+------------
 mark_group | text | yes  | mark_group
 mark_name  | text | yes  | mark_name
primary key, btree, for table "emaj.emaj_mark"
Tablespace: "tspemaj"

                     Table "emaj.emaj_param"
        Column        |   Type   | Collation | Nullable | Default 
----------------------+----------+-----------+----------+---------
 param_key            | text     |           | not null | 
 param_value_text     | text     |           |          | 
 param_value_numeric  | numeric  |           |          | 
 param_value_boolean  | boolean  |           |          | 
 param_value_interval | interval |           |          | 
Indexes:
    "emaj_param_pkey" PRIMARY KEY, btree (param_key), tablespace "tspemaj"
Triggers:
    emaj_param_change_trg AFTER INSERT OR DELETE OR UPDATE ON emaj.emaj_param FOR EACH ROW EXECUTE FUNCTION emaj._emaj_param_change_fnct()
    emaj_param_truncate_trg BEFORE TRUNCATE ON emaj.emaj_param FOR EACH STATEMENT EXECUTE FUNCTION emaj._emaj_param_change_fnct()
Tablespace: "tspemaj"

     Index "emaj.emaj_param_pkey"
  Column   | Type | Key? | Definition 
-----------+------+------+------------
 param_key | text | yes  | param_key
primary key, btree, for table "emaj.emaj_param"
Tablespace: "tspemaj"

                  Table "emaj.emaj_rel_hist"
     Column      |   Type    | Collation | Nullable | Default 
-----------------+-----------+-----------+----------+---------
 relh_schema     | text      |           | not null | 
 relh_tblseq     | text      |           | not null | 
 relh_time_range | int8range |           | not null | 
 relh_group      | text      |           | not null | 
 relh_kind       | text      |           |          | 
Indexes:
    "emaj_rel_hist_pkey" PRIMARY KEY, btree (relh_schema, relh_tblseq, relh_time_range), tablespace "tspemaj"
    "emaj_rel_hist_idx1" btree (upper(relh_time_range)), tablespace "tspemaj"
    "emaj_rel_hist_relh_schema_relh_tblseq_relh_time_range_excl" EXCLUDE USING gist (relh_schema WITH =, relh_tblseq WITH =, relh_time_range WITH &&), tablespace "tspemaj"
Check constraints:
    "emaj_rel_hist_relh_time_range_check" CHECK (NOT upper_inf(relh_time_range))
Tablespace: "tspemaj"

         Index "emaj.emaj_rel_hist_idx1"
 Column |  Type  | Key? |       Definition       
--------+--------+------+------------------------
 upper  | bigint | yes  | upper(relh_time_range)
btree, for table "emaj.emaj_rel_hist"
Tablespace: "tspemaj"

           Index "emaj.emaj_rel_hist_pkey"
     Column      |   Type    | Key? |   Definition    
-----------------+-----------+------+-----------------
 relh_schema     | text      | yes  | relh_schema
 relh_tblseq     | text      | yes  | relh_tblseq
 relh_time_range | int8range | yes  | relh_time_range
primary key, btree, for table "emaj.emaj_rel_hist"
Tablespace: "tspemaj"

Index "emaj.emaj_rel_hist_relh_schema_relh_tblseq_relh_time_range_excl"
     Column      |     Type      | Key? |   Definition    
-----------------+---------------+------+-----------------
 relh_schema     | gbtreekey_var | yes  | relh_schema
 relh_tblseq     | gbtreekey_var | yes  | relh_tblseq
 relh_time_range | int8range     | yes  | relh_time_range
gist, for table "emaj.emaj_rel_hist"
Tablespace: "tspemaj"

                       Table "emaj.emaj_relation"
          Column           |   Type    | Collation | Nullable | Default 
---------------------------+-----------+-----------+----------+---------
 rel_schema                | text      |           | not null | 
 rel_tblseq                | text      |           | not null | 
 rel_time_range            | int8range |           | not null | 
 rel_group                 | text      |           | not null | 
 rel_kind                  | text      |           |          | 
 rel_priority              | integer   |           |          | 
 rel_log_schema            | text      |           |          | 
 rel_log_table             | text      |           |          | 
 rel_log_dat_tsp           | text      |           |          | 
 rel_log_index             | text      |           |          | 
 rel_log_idx_tsp           | text      |           |          | 
 rel_log_sequence          | text      |           |          | 
 rel_log_function          | text      |           |          | 
 rel_ignored_triggers      | text[]    |           |          | 
 rel_pk_cols               | text[]    |           |          | 
 rel_gen_expr_cols         | text[]    |           |          | 
 rel_emaj_verb_attnum      | smallint  |           |          | 
 rel_has_always_ident_col  | boolean   |           |          | 
 rel_sql_rlbk_columns      | text      |           |          | 
 rel_sql_gen_ins_col       | text      |           |          | 
 rel_sql_gen_ins_val       | text      |           |          | 
 rel_sql_gen_upd_set       | text      |           |          | 
 rel_sql_gen_pk_conditions | text      |           |          | 
 rel_log_seq_last_value    | bigint    |           |          | 
Indexes:
    "emaj_relation_pkey" PRIMARY KEY, btree (rel_schema, rel_tblseq, rel_time_range), tablespace "tspemaj"
    "emaj_relation_idx1" btree (rel_group, rel_kind), tablespace "tspemaj"
    "emaj_relation_idx2" btree (rel_log_schema), tablespace "tspemaj"
    "emaj_relation_rel_schema_rel_tblseq_rel_time_range_excl" EXCLUDE USING gist (rel_schema WITH =, rel_tblseq WITH =, rel_time_range WITH &&), tablespace "tspemaj"
Foreign-key constraints:
    "emaj_relation_rel_group_fkey" FOREIGN KEY (rel_group) REFERENCES emaj.emaj_group(group_name)
    "emaj_relation_rel_log_schema_fkey" FOREIGN KEY (rel_log_schema) REFERENCES emaj.emaj_schema(sch_name)
Tablespace: "tspemaj"

                               Table "emaj.emaj_relation_change"
           Column           |              Type               | Collation | Nullable | Default 
----------------------------+---------------------------------+-----------+----------+---------
 rlchg_time_id              | bigint                          |           | not null | 
 rlchg_schema               | text                            |           | not null | 
 rlchg_tblseq               | text                            |           | not null | 
 rlchg_change_kind          | emaj._relation_change_kind_enum |           | not null | 
 rlchg_group                | text                            |           | not null | 
 rlchg_new_schema           | text                            |           |          | 
 rlchg_new_tblseq           | text                            |           |          | 
 rlchg_new_group            | text                            |           |          | 
 rlchg_priority             | integer                         |           |          | 
 rlchg_new_priority         | integer                         |           |          | 
 rlchg_log_data_tsp         | text                            |           |          | 
 rlchg_new_log_data_tsp     | text                            |           |          | 
 rlchg_log_index_tsp        | text                            |           |          | 
 rlchg_new_log_index_tsp    | text                            |           |          | 
 rlchg_ignored_triggers     | text[]                          |           |          | 
 rlchg_new_ignored_triggers | text[]                          |           |          | 
Indexes:
    "emaj_relation_change_pkey" PRIMARY KEY, btree (rlchg_time_id, rlchg_schema, rlchg_tblseq, rlchg_change_kind), tablespace "tspemaj"
Foreign-key constraints:
    "emaj_relation_change_rlchg_time_id_fkey" FOREIGN KEY (rlchg_time_id) REFERENCES emaj.emaj_time_stamp(time_id)
Tablespace: "tspemaj"

                     Index "emaj.emaj_relation_change_pkey"
      Column       |              Type               | Key? |    Definition     
-------------------+---------------------------------+------+-------------------
 rlchg_time_id     | bigint                          | yes  | rlchg_time_id
 rlchg_schema      | text                            | yes  | rlchg_schema
 rlchg_tblseq      | text                            | yes  | rlchg_tblseq
 rlchg_change_kind | emaj._relation_change_kind_enum | yes  | rlchg_change_kind
primary key, btree, for table "emaj.emaj_relation_change"
Tablespace: "tspemaj"

   Index "emaj.emaj_relation_idx1"
  Column   | Type | Key? | Definition 
-----------+------+------+------------
 rel_group | text | yes  | rel_group
 rel_kind  | text | yes  | rel_kind
btree, for table "emaj.emaj_relation"
Tablespace: "tspemaj"

        Index "emaj.emaj_relation_idx2"
     Column     | Type | Key? |   Definition   
----------------+------+------+----------------
 rel_log_schema | text | yes  | rel_log_schema
btree, for table "emaj.emaj_relation"
Tablespace: "tspemaj"

          Index "emaj.emaj_relation_pkey"
     Column     |   Type    | Key? |   Definition   
----------------+-----------+------+----------------
 rel_schema     | text      | yes  | rel_schema
 rel_tblseq     | text      | yes  | rel_tblseq
 rel_time_range | int8range | yes  | rel_time_range
primary key, btree, for table "emaj.emaj_relation"
Tablespace: "tspemaj"

Index "emaj.emaj_relation_rel_schema_rel_tblseq_rel_time_range_excl"
     Column     |     Type      | Key? |   Definition   
----------------+---------------+------+----------------
 rel_schema     | gbtreekey_var | yes  | rel_schema
 rel_tblseq     | gbtreekey_var | yes  | rel_tblseq
 rel_time_range | int8range     | yes  | rel_time_range
gist, for table "emaj.emaj_relation"
Tablespace: "tspemaj"

                                              Table "emaj.emaj_rlbk"
           Column            |           Type           | Collation | Nullable |             Default              
-----------------------------+--------------------------+-----------+----------+----------------------------------
 rlbk_id                     | integer                  |           | not null | generated by default as identity
 rlbk_groups                 | text[]                   |           | not null | 
 rlbk_mark                   | text                     |           | not null | 
 rlbk_mark_time_id           | bigint                   |           | not null | 
 rlbk_time_id                | bigint                   |           |          | 
 rlbk_is_logged              | boolean                  |           | not null | 
 rlbk_is_alter_group_allowed | boolean                  |           |          | 
 rlbk_comment                | text                     |           |          | 
 rlbk_nb_session             | integer                  |           | not null | 
 rlbk_nb_table               | integer                  |           |          | 
 rlbk_nb_sequence            | integer                  |           |          | 
 rlbk_eff_nb_table           | integer                  |           |          | 
 rlbk_eff_nb_sequence        | integer                  |           |          | 
 rlbk_status                 | emaj._rlbk_status_enum   |           |          | 
 rlbk_begin_hist_id          | bigint                   |           |          | 
 rlbk_dblink_schema          | text                     |           |          | 
 rlbk_is_dblink_used         | boolean                  |           |          | 
 rlbk_start_datetime         | timestamp with time zone |           |          | 
 rlbk_end_planning_datetime  | timestamp with time zone |           |          | 
 rlbk_end_locking_datetime   | timestamp with time zone |           |          | 
 rlbk_end_datetime           | timestamp with time zone |           |          | 
 rlbk_messages               | text[]                   |           |          | 
Indexes:
    "emaj_rlbk_pkey" PRIMARY KEY, btree (rlbk_id), tablespace "tspemaj"
    "emaj_rlbk_idx1" btree (rlbk_status) WHERE rlbk_status = ANY (ARRAY['PLANNING'::emaj._rlbk_status_enum, 'LOCKING'::emaj._rlbk_status_enum, 'EXECUTING'::emaj._rlbk_status_enum, 'COMPLETED'::emaj._rlbk_status_enum]), tablespace "tspemaj"
Foreign-key constraints:
    "emaj_rlbk_rlbk_mark_time_id_fkey" FOREIGN KEY (rlbk_mark_time_id) REFERENCES emaj.emaj_time_stamp(time_id)
    "emaj_rlbk_rlbk_time_id_fkey" FOREIGN KEY (rlbk_time_id) REFERENCES emaj.emaj_time_stamp(time_id)
Referenced by:
    TABLE "emaj.emaj_rlbk_plan" CONSTRAINT "emaj_rlbk_plan_rlbp_rlbk_id_fkey" FOREIGN KEY (rlbp_rlbk_id) REFERENCES emaj.emaj_rlbk(rlbk_id)
    TABLE "emaj.emaj_rlbk_session" CONSTRAINT "emaj_rlbk_session_rlbs_rlbk_id_fkey" FOREIGN KEY (rlbs_rlbk_id) REFERENCES emaj.emaj_rlbk(rlbk_id)
    TABLE "emaj.emaj_rlbk_stat" CONSTRAINT "emaj_rlbk_stat_rlbt_rlbk_id_fkey" FOREIGN KEY (rlbt_rlbk_id) REFERENCES emaj.emaj_rlbk(rlbk_id)
Tablespace: "tspemaj"

                Index "emaj.emaj_rlbk_idx1"
   Column    |          Type          | Key? | Definition  
-------------+------------------------+------+-------------
 rlbk_status | emaj._rlbk_status_enum | yes  | rlbk_status
btree, for table "emaj.emaj_rlbk", predicate (rlbk_status = ANY (ARRAY['PLANNING'::emaj._rlbk_status_enum, 'LOCKING'::emaj._rlbk_status_enum, 'EXECUTING'::emaj._rlbk_status_enum, 'COMPLETED'::emaj._rlbk_status_enum]))
Tablespace: "tspemaj"

      Index "emaj.emaj_rlbk_pkey"
 Column  |  Type   | Key? | Definition 
---------+---------+------+------------
 rlbk_id | integer | yes  | rlbk_id
primary key, btree, for table "emaj.emaj_rlbk"
Tablespace: "tspemaj"

                              Table "emaj.emaj_rlbk_plan"
          Column           |           Type           | Collation | Nullable | Default 
---------------------------+--------------------------+-----------+----------+---------
 rlbp_rlbk_id              | integer                  |           | not null | 
 rlbp_step                 | emaj._rlbk_step_enum     |           | not null | 
 rlbp_schema               | text                     |           | not null | 
 rlbp_table                | text                     |           | not null | 
 rlbp_object               | text                     |           | not null | 
 rlbp_batch_number         | integer                  |           |          | 
 rlbp_session              | integer                  |           |          | 
 rlbp_object_def           | text                     |           |          | 
 rlbp_app_trg_type         | text                     |           |          | 
 rlbp_is_repl_role_replica | boolean                  |           |          | 
 rlbp_target_time_id       | bigint                   |           |          | 
 rlbp_estimated_quantity   | bigint                   |           |          | 
 rlbp_estimated_duration   | interval                 |           |          | 
 rlbp_estimate_method      | integer                  |           |          | 
 rlbp_start_datetime       | timestamp with time zone |           |          | 
 rlbp_quantity             | bigint                   |           |          | 
 rlbp_duration             | interval                 |           |          | 
Indexes:
    "emaj_rlbk_plan_pkey" PRIMARY KEY, btree (rlbp_rlbk_id, rlbp_step, rlbp_schema, rlbp_table, rlbp_object), tablespace "tspemaj"
Foreign-key constraints:
    "emaj_rlbk_plan_rlbp_rlbk_id_fkey" FOREIGN KEY (rlbp_rlbk_id) REFERENCES emaj.emaj_rlbk(rlbk_id)
Tablespace: "tspemaj"

             Index "emaj.emaj_rlbk_plan_pkey"
    Column    |         Type         | Key? |  Definition  
--------------+----------------------+------+--------------
 rlbp_rlbk_id | integer              | yes  | rlbp_rlbk_id
 rlbp_step    | emaj._rlbk_step_enum | yes  | rlbp_step
 rlbp_schema  | text                 | yes  | rlbp_schema
 rlbp_table   | text                 | yes  | rlbp_table
 rlbp_object  | text                 | yes  | rlbp_object
primary key, btree, for table "emaj.emaj_rlbk_plan"
Tablespace: "tspemaj"

                Sequence "emaj.emaj_rlbk_rlbk_id_seq"
  Type   | Start | Minimum |  Maximum   | Increment | Cycles? | Cache 
---------+-------+---------+------------+-----------+---------+-------
 integer |     1 |       1 | 2147483647 |         1 | no      |     1
Sequence for identity column: emaj.emaj_rlbk.rlbk_id

                         Table "emaj.emaj_rlbk_session"
       Column        |           Type           | Collation | Nullable | Default 
---------------------+--------------------------+-----------+----------+---------
 rlbs_rlbk_id        | integer                  |           | not null | 
 rlbs_session        | integer                  |           | not null | 
 rlbs_txid           | bigint                   |           | not null | 
 rlbs_start_datetime | timestamp with time zone |           | not null | 
 rlbs_end_datetime   | timestamp with time zone |           |          | 
Indexes:
    "emaj_rlbk_session_pkey" PRIMARY KEY, btree (rlbs_rlbk_id, rlbs_session), tablespace "tspemaj"
Foreign-key constraints:
    "emaj_rlbk_session_rlbs_rlbk_id_fkey" FOREIGN KEY (rlbs_rlbk_id) REFERENCES emaj.emaj_rlbk(rlbk_id)
Tablespace: "tspemaj"

     Index "emaj.emaj_rlbk_session_pkey"
    Column    |  Type   | Key? |  Definition  
--------------+---------+------+--------------
 rlbs_rlbk_id | integer | yes  | rlbs_rlbk_id
 rlbs_session | integer | yes  | rlbs_session
primary key, btree, for table "emaj.emaj_rlbk_session"
Tablespace: "tspemaj"

                      Table "emaj.emaj_rlbk_stat"
    Column     |         Type         | Collation | Nullable | Default 
---------------+----------------------+-----------+----------+---------
 rlbt_step     | emaj._rlbk_step_enum |           | not null | 
 rlbt_schema   | text                 |           | not null | 
 rlbt_table    | text                 |           | not null | 
 rlbt_object   | text                 |           | not null | 
 rlbt_rlbk_id  | integer              |           | not null | 
 rlbt_quantity | bigint               |           | not null | 
 rlbt_duration | interval             |           | not null | 
Indexes:
    "emaj_rlbk_stat_pkey" PRIMARY KEY, btree (rlbt_step, rlbt_schema, rlbt_table, rlbt_object, rlbt_rlbk_id), tablespace "tspemaj"
Foreign-key constraints:
    "emaj_rlbk_stat_rlbt_rlbk_id_fkey" FOREIGN KEY (rlbt_rlbk_id) REFERENCES emaj.emaj_rlbk(rlbk_id)
Tablespace: "tspemaj"

             Index "emaj.emaj_rlbk_stat_pkey"
    Column    |         Type         | Key? |  Definition  
--------------+----------------------+------+--------------
 rlbt_step    | emaj._rlbk_step_enum | yes  | rlbt_step
 rlbt_schema  | text                 | yes  | rlbt_schema
 rlbt_table   | text                 | yes  | rlbt_table
 rlbt_object  | text                 | yes  | rlbt_object
 rlbt_rlbk_id | integer              | yes  | rlbt_rlbk_id
primary key, btree, for table "emaj.emaj_rlbk_stat"
Tablespace: "tspemaj"

                    Composite type "emaj.emaj_rollback_activity_type"
           Column            |           Type           | Collation | Nullable | Default 
-----------------------------+--------------------------+-----------+----------+---------
 rlbk_id                     | integer                  |           |          | 
 rlbk_groups                 | text[]                   |           |          | 
 rlbk_mark                   | text                     |           |          | 
 rlbk_mark_datetime          | timestamp with time zone |           |          | 
 rlbk_is_logged              | boolean                  |           |          | 
 rlbk_is_alter_group_allowed | boolean                  |           |          | 
 rlbk_comment                | text                     |           |          | 
 rlbk_nb_session             | integer                  |           |          | 
 rlbk_nb_table               | integer                  |           |          | 
 rlbk_nb_sequence            | integer                  |           |          | 
 rlbk_eff_nb_table           | integer                  |           |          | 
 rlbk_eff_nb_sequence        | integer                  |           |          | 
 rlbk_status                 | emaj._rlbk_status_enum   |           |          | 
 rlbk_start_datetime         | timestamp with time zone |           |          | 
 rlbk_planning_duration      | interval                 |           |          | 
 rlbk_locking_duration       | interval                 |           |          | 
 rlbk_elapse                 | interval                 |           |          | 
 rlbk_remaining              | interval                 |           |          | 
 rlbk_completion_pct         | smallint                 |           |          | 

               Table "emaj.emaj_schema"
   Column    |  Type  | Collation | Nullable | Default 
-------------+--------+-----------+----------+---------
 sch_name    | text   |           | not null | 
 sch_time_id | bigint |           |          | 
Indexes:
    "emaj_schema_pkey" PRIMARY KEY, btree (sch_name), tablespace "tspemaj"
Foreign-key constraints:
    "emaj_schema_sch_time_id_fkey" FOREIGN KEY (sch_time_id) REFERENCES emaj.emaj_time_stamp(time_id)
Referenced by:
    TABLE "emaj.emaj_relation" CONSTRAINT "emaj_relation_rel_log_schema_fkey" FOREIGN KEY (rel_log_schema) REFERENCES emaj.emaj_schema(sch_name)
Tablespace: "tspemaj"

    Index "emaj.emaj_schema_pkey"
  Column  | Type | Key? | Definition 
----------+------+------+------------
 sch_name | text | yes  | sch_name
primary key, btree, for table "emaj.emaj_schema"
Tablespace: "tspemaj"

                  Table "emaj.emaj_seq_hole"
       Column       |  Type  | Collation | Nullable | Default 
--------------------+--------+-----------+----------+---------
 sqhl_schema        | text   |           | not null | 
 sqhl_table         | text   |           | not null | 
 sqhl_begin_time_id | bigint |           | not null | 
 sqhl_end_time_id   | bigint |           | not null | 
 sqhl_hole_size     | bigint |           | not null | 
Indexes:
    "emaj_seq_hole_pkey" PRIMARY KEY, btree (sqhl_schema, sqhl_table, sqhl_begin_time_id), tablespace "tspemaj"
Foreign-key constraints:
    "emaj_seq_hole_sqhl_begin_time_id_fkey" FOREIGN KEY (sqhl_begin_time_id) REFERENCES emaj.emaj_time_stamp(time_id)
    "emaj_seq_hole_sqhl_end_time_id_fkey" FOREIGN KEY (sqhl_end_time_id) REFERENCES emaj.emaj_time_stamp(time_id)
Tablespace: "tspemaj"

             Index "emaj.emaj_seq_hole_pkey"
       Column       |  Type  | Key? |     Definition     
--------------------+--------+------+--------------------
 sqhl_schema        | text   | yes  | sqhl_schema
 sqhl_table         | text   | yes  | sqhl_table
 sqhl_begin_time_id | bigint | yes  | sqhl_begin_time_id
primary key, btree, for table "emaj.emaj_seq_hole"
Tablespace: "tspemaj"

                Table "emaj.emaj_sequence"
     Column     |  Type   | Collation | Nullable | Default 
----------------+---------+-----------+----------+---------
 sequ_schema    | text    |           | not null | 
 sequ_name      | text    |           | not null | 
 sequ_time_id   | bigint  |           | not null | 
 sequ_last_val  | bigint  |           | not null | 
 sequ_start_val | bigint  |           | not null | 
 sequ_increment | bigint  |           | not null | 
 sequ_max_val   | bigint  |           | not null | 
 sequ_min_val   | bigint  |           | not null | 
 sequ_cache_val | bigint  |           | not null | 
 sequ_is_cycled | boolean |           | not null | 
 sequ_is_called | boolean |           | not null | 
Indexes:
    "emaj_sequence_pkey" PRIMARY KEY, btree (sequ_schema, sequ_name, sequ_time_id), tablespace "tspemaj"
Foreign-key constraints:
    "emaj_sequence_sequ_time_id_fkey" FOREIGN KEY (sequ_time_id) REFERENCES emaj.emaj_time_stamp(time_id)
Tablespace: "tspemaj"

       Index "emaj.emaj_sequence_pkey"
    Column    |  Type  | Key? |  Definition  
--------------+--------+------+--------------
 sequ_schema  | text   | yes  | sequ_schema
 sequ_name    | text   | yes  | sequ_name
 sequ_time_id | bigint | yes  | sequ_time_id
primary key, btree, for table "emaj.emaj_sequence"
Tablespace: "tspemaj"

                  Composite type "emaj.emaj_sequence_stat_group_type"
           Column           |           Type           | Collation | Nullable | Default 
----------------------------+--------------------------+-----------+----------+---------
 stat_group                 | text                     |           |          | 
 stat_schema                | text                     |           |          | 
 stat_sequence              | text                     |           |          | 
 stat_first_mark            | text                     |           |          | 
 stat_first_mark_datetime   | timestamp with time zone |           |          | 
 stat_first_time_id         | bigint                   |           |          | 
 stat_last_mark             | text                     |           |          | 
 stat_last_mark_datetime    | timestamp with time zone |           |          | 
 stat_last_time_id          | bigint                   |           |          | 
 stat_increments            | bigint                   |           |          | 
 stat_has_structure_changed | boolean                  |           |          | 

                         Table "emaj.emaj_table"
        Column        |       Type       | Collation | Nullable | Default 
----------------------+------------------+-----------+----------+---------
 tbl_schema           | text             |           | not null | 
 tbl_name             | text             |           | not null | 
 tbl_time_id          | bigint           |           | not null | 
 tbl_pages            | integer          |           |          | 
 tbl_tuples           | double precision |           |          | 
 tbl_log_seq_last_val | bigint           |           | not null | 
Indexes:
    "emaj_table_pkey" PRIMARY KEY, btree (tbl_schema, tbl_name, tbl_time_id), tablespace "tspemaj"
Foreign-key constraints:
    "emaj_table_tbl_time_id_fkey" FOREIGN KEY (tbl_time_id) REFERENCES emaj.emaj_time_stamp(time_id)
Tablespace: "tspemaj"

       Index "emaj.emaj_table_pkey"
   Column    |  Type  | Key? | Definition  
-------------+--------+------+-------------
 tbl_schema  | text   | yes  | tbl_schema
 tbl_name    | text   | yes  | tbl_name
 tbl_time_id | bigint | yes  | tbl_time_id
primary key, btree, for table "emaj.emaj_table"
Tablespace: "tspemaj"

                                     Table "emaj.emaj_time_stamp"
        Column        |           Type           | Collation | Nullable |           Default            
----------------------+--------------------------+-----------+----------+------------------------------
 time_id              | bigint                   |           | not null | generated always as identity
 time_clock_timestamp | timestamp with time zone |           | not null | clock_timestamp()
 time_stmt_timestamp  | timestamp with time zone |           | not null | statement_timestamp()
 time_tx_timestamp    | timestamp with time zone |           | not null | transaction_timestamp()
 time_txid            | bigint                   |           |          | txid_current()
 time_last_emaj_gid   | bigint                   |           |          | 
 time_event           | character(1)             |           |          | 
Indexes:
    "emaj_time_stamp_pkey" PRIMARY KEY, btree (time_id), tablespace "tspemaj"
Referenced by:
    TABLE "emaj.emaj_group" CONSTRAINT "emaj_group_group_last_alter_time_id_fkey" FOREIGN KEY (group_last_alter_time_id) REFERENCES emaj.emaj_time_stamp(time_id)
    TABLE "emaj.emaj_mark" CONSTRAINT "emaj_mark_mark_time_id_fkey" FOREIGN KEY (mark_time_id) REFERENCES emaj.emaj_time_stamp(time_id)
    TABLE "emaj.emaj_relation_change" CONSTRAINT "emaj_relation_change_rlchg_time_id_fkey" FOREIGN KEY (rlchg_time_id) REFERENCES emaj.emaj_time_stamp(time_id)
    TABLE "emaj.emaj_rlbk" CONSTRAINT "emaj_rlbk_rlbk_mark_time_id_fkey" FOREIGN KEY (rlbk_mark_time_id) REFERENCES emaj.emaj_time_stamp(time_id)
    TABLE "emaj.emaj_rlbk" CONSTRAINT "emaj_rlbk_rlbk_time_id_fkey" FOREIGN KEY (rlbk_time_id) REFERENCES emaj.emaj_time_stamp(time_id)
    TABLE "emaj.emaj_schema" CONSTRAINT "emaj_schema_sch_time_id_fkey" FOREIGN KEY (sch_time_id) REFERENCES emaj.emaj_time_stamp(time_id)
    TABLE "emaj.emaj_seq_hole" CONSTRAINT "emaj_seq_hole_sqhl_begin_time_id_fkey" FOREIGN KEY (sqhl_begin_time_id) REFERENCES emaj.emaj_time_stamp(time_id)
    TABLE "emaj.emaj_seq_hole" CONSTRAINT "emaj_seq_hole_sqhl_end_time_id_fkey" FOREIGN KEY (sqhl_end_time_id) REFERENCES emaj.emaj_time_stamp(time_id)
    TABLE "emaj.emaj_sequence" CONSTRAINT "emaj_sequence_sequ_time_id_fkey" FOREIGN KEY (sequ_time_id) REFERENCES emaj.emaj_time_stamp(time_id)
    TABLE "emaj.emaj_table" CONSTRAINT "emaj_table_tbl_time_id_fkey" FOREIGN KEY (tbl_time_id) REFERENCES emaj.emaj_time_stamp(time_id)
Tablespace: "tspemaj"

  Index "emaj.emaj_time_stamp_pkey"
 Column  |  Type  | Key? | Definition 
---------+--------+------+------------
 time_id | bigint | yes  | time_id
primary key, btree, for table "emaj.emaj_time_stamp"
Tablespace: "tspemaj"

                 Sequence "emaj.emaj_time_stamp_time_id_seq"
  Type  | Start | Minimum |       Maximum       | Increment | Cycles? | Cache 
--------+-------+---------+---------------------+-----------+---------+-------
 bigint |     1 |       1 | 9223372036854775807 |         1 | no      |     1
Sequence for identity column: emaj.emaj_time_stamp.time_id

                      Table "emaj.emaj_version_hist"
        Column         |   Type    | Collation | Nullable |    Default     
-----------------------+-----------+-----------+----------+----------------
 verh_version          | text      |           | not null | 
 verh_time_range       | tstzrange |           | not null | 
 verh_install_duration | interval  |           |          | 
 verh_txid             | bigint    |           |          | txid_current()
Indexes:
    "emaj_version_hist_pkey" PRIMARY KEY, btree (verh_version), tablespace "tspemaj"
    "emaj_version_hist_verh_version_verh_time_range_excl" EXCLUDE USING gist (verh_version WITH =, verh_time_range WITH &&), tablespace "tspemaj"
Tablespace: "tspemaj"

    Index "emaj.emaj_version_hist_pkey"
    Column    | Type | Key? |  Definition  
--------------+------+------+--------------
 verh_version | text | yes  | verh_version
primary key, btree, for table "emaj.emaj_version_hist"
Tablespace: "tspemaj"

Index "emaj.emaj_version_hist_verh_version_verh_time_range_excl"
     Column      |     Type      | Key? |   Definition    
-----------------+---------------+------+-----------------
 verh_version    | gbtreekey_var | yes  | verh_version
 verh_time_range | tstzrange     | yes  | verh_time_range
gist, for table "emaj.emaj_version_hist"
Tablespace: "tspemaj"

                  View "emaj.emaj_visible_param"
        Column        |   Type   | Collation | Nullable | Default 
----------------------+----------+-----------+----------+---------
 param_key            | text     |           |          | 
 param_value_text     | text     |           |          | 
 param_value_numeric  | numeric  |           |          | 
 param_value_boolean  | boolean  |           |          | 
 param_value_interval | interval |           |          | 

                                      Table "emaj_myschema1.myTbl3_log_1"
    Column    |            Type             | Collation | Nullable |                  Default                  
--------------+-----------------------------+-----------+----------+-------------------------------------------
 col31        | integer                     |           |          | 
 col32        | timestamp without time zone |           |          | 
 col33        | numeric(12,2)               |           |          | 
 emaj_verb    | character varying(3)        |           | not null | 
 emaj_tuple   | character varying(3)        |           | not null | 
 emaj_gid     | bigint                      |           | not null | nextval('emaj.emaj_global_seq'::regclass)
 emaj_changed | timestamp with time zone    |           |          | clock_timestamp()
 emaj_txid    | bigint                      |           |          | txid_current()
 emaj_user    | character varying(32)       |           |          | SESSION_USER
Indexes:
    "myTbl3_log_idx_1" PRIMARY KEY, btree (emaj_gid, emaj_tuple) CLUSTER

        Index "emaj_myschema1.myTbl3_log_idx_1"
   Column   |         Type         | Key? | Definition 
------------+----------------------+------+------------
 emaj_gid   | bigint               | yes  | emaj_gid
 emaj_tuple | character varying(3) | yes  | emaj_tuple
primary key, btree, for table "emaj_myschema1.myTbl3_log_1", clustered

                                     Table "emaj_myschema1.mytbl1_log"
    Column    |           Type           | Collation | Nullable |                  Default                  
--------------+--------------------------+-----------+----------+-------------------------------------------
 col11        | numeric(7,0)             |           |          | 
 col12        | character(10)            |           |          | 
 col13        | bytea                    |           |          | 
 emaj_verb    | character varying(3)     |           | not null | 
 emaj_tuple   | character varying(3)     |           | not null | 
 emaj_gid     | bigint                   |           | not null | nextval('emaj.emaj_global_seq'::regclass)
 emaj_changed | timestamp with time zone |           |          | clock_timestamp()
 emaj_txid    | bigint                   |           |          | txid_current()
 emaj_user    | character varying(32)    |           |          | SESSION_USER
Indexes:
    "mytbl1_log_idx" PRIMARY KEY, btree (emaj_gid, emaj_tuple) CLUSTER

         Index "emaj_myschema1.mytbl1_log_idx"
   Column   |         Type         | Key? | Definition 
------------+----------------------+------+------------
 emaj_gid   | bigint               | yes  | emaj_gid
 emaj_tuple | character varying(3) | yes  | emaj_tuple
primary key, btree, for table "emaj_myschema1.mytbl1_log", clustered

                   Sequence "emaj_myschema1.mytbl1_log_seq"
  Type  | Start | Minimum |       Maximum       | Increment | Cycles? | Cache 
--------+-------+---------+---------------------+-----------+---------+-------
 bigint |     1 |       1 | 9223372036854775807 |         1 | no      |     1

                                     Table "emaj_myschema1.mytbl2_log"
    Column    |           Type           | Collation | Nullable |                  Default                  
--------------+--------------------------+-----------+----------+-------------------------------------------
 col21        | integer                  |           |          | 
 col22        | text                     |           |          | 
 col23        | date                     |           |          | 
 emaj_verb    | character varying(3)     |           | not null | 
 emaj_tuple   | character varying(3)     |           | not null | 
 emaj_gid     | bigint                   |           | not null | nextval('emaj.emaj_global_seq'::regclass)
 emaj_changed | timestamp with time zone |           |          | clock_timestamp()
 emaj_txid    | bigint                   |           |          | txid_current()
 emaj_user    | character varying(32)    |           |          | SESSION_USER
Indexes:
    "mytbl2_log_idx" PRIMARY KEY, btree (emaj_gid, emaj_tuple) CLUSTER

         Index "emaj_myschema1.mytbl2_log_idx"
   Column   |         Type         | Key? | Definition 
------------+----------------------+------+------------
 emaj_gid   | bigint               | yes  | emaj_gid
 emaj_tuple | character varying(3) | yes  | emaj_tuple
primary key, btree, for table "emaj_myschema1.mytbl2_log", clustered

                   Sequence "emaj_myschema1.mytbl2_log_seq"
  Type  | Start | Minimum |       Maximum       | Increment | Cycles? | Cache 
--------+-------+---------+---------------------+-----------+---------+-------
 bigint |     1 |       1 | 9223372036854775807 |         1 | no      |     1

                                     Table "emaj_myschema1.mytbl2b_log"
    Column    |           Type           | Collation | Nullable |                  Default                  
--------------+--------------------------+-----------+----------+-------------------------------------------
 col20        | integer                  |           |          | 
 col21        | integer                  |           |          | 
 col22        | double precision         |           |          | 
 col23        | double precision         |           |          | 
 col24        | boolean                  |           |          | 
 emaj_verb    | character varying(3)     |           | not null | 
 emaj_tuple   | character varying(3)     |           | not null | 
 emaj_gid     | bigint                   |           | not null | nextval('emaj.emaj_global_seq'::regclass)
 emaj_changed | timestamp with time zone |           |          | clock_timestamp()
 emaj_txid    | bigint                   |           |          | txid_current()
 emaj_user    | character varying(32)    |           |          | SESSION_USER
Indexes:
    "mytbl2b_log_idx" PRIMARY KEY, btree (emaj_gid, emaj_tuple) CLUSTER

        Index "emaj_myschema1.mytbl2b_log_idx"
   Column   |         Type         | Key? | Definition 
------------+----------------------+------+------------
 emaj_gid   | bigint               | yes  | emaj_gid
 emaj_tuple | character varying(3) | yes  | emaj_tuple
primary key, btree, for table "emaj_myschema1.mytbl2b_log", clustered

                  Sequence "emaj_myschema1.mytbl2b_log_seq"
  Type  | Start | Minimum |       Maximum       | Increment | Cycles? | Cache 
--------+-------+---------+---------------------+-----------+---------+-------
 bigint |     1 |       1 | 9223372036854775807 |         1 | no      |     1

                                     Table "emaj_myschema1.mytbl4_log"
    Column    |           Type           | Collation | Nullable |                  Default                  
--------------+--------------------------+-----------+----------+-------------------------------------------
 col41        | integer                  |           |          | 
 col42        | text                     |           |          | 
 col43        | integer                  |           |          | 
 col44        | numeric(7,0)             |           |          | 
 col45        | character(10)            |           |          | 
 emaj_verb    | character varying(3)     |           | not null | 
 emaj_tuple   | character varying(3)     |           | not null | 
 emaj_gid     | bigint                   |           | not null | nextval('emaj.emaj_global_seq'::regclass)
 emaj_changed | timestamp with time zone |           |          | clock_timestamp()
 emaj_txid    | bigint                   |           |          | txid_current()
 emaj_user    | character varying(32)    |           |          | SESSION_USER
Indexes:
    "mytbl4_log_idx" PRIMARY KEY, btree (emaj_gid, emaj_tuple) CLUSTER

         Index "emaj_myschema1.mytbl4_log_idx"
   Column   |         Type         | Key? | Definition 
------------+----------------------+------+------------
 emaj_gid   | bigint               | yes  | emaj_gid
 emaj_tuple | character varying(3) | yes  | emaj_tuple
primary key, btree, for table "emaj_myschema1.mytbl4_log", clustered

                   Sequence "emaj_myschema1.mytbl4_log_seq"
  Type  | Start | Minimum |       Maximum       | Increment | Cycles? | Cache 
--------+-------+---------+---------------------+-----------+---------+-------
 bigint |     1 |       1 | 9223372036854775807 |         1 | no      |     1

                                       Table "emaj_myschema2.myTbl3_log"
    Column    |            Type             | Collation | Nullable |                  Default                  
--------------+-----------------------------+-----------+----------+-------------------------------------------
 col31        | integer                     |           |          | 
 col32        | timestamp without time zone |           |          | 
 col33        | numeric(12,2)               |           |          | 
 emaj_verb    | character varying(3)        |           | not null | 
 emaj_tuple   | character varying(3)        |           | not null | 
 emaj_gid     | bigint                      |           | not null | nextval('emaj.emaj_global_seq'::regclass)
 emaj_changed | timestamp with time zone    |           |          | clock_timestamp()
 emaj_txid    | bigint                      |           |          | txid_current()
 emaj_user    | character varying(32)       |           |          | SESSION_USER
Indexes:
    "myTbl3_log_idx" PRIMARY KEY, btree (emaj_gid, emaj_tuple) CLUSTER

         Index "emaj_myschema2.myTbl3_log_idx"
   Column   |         Type         | Key? | Definition 
------------+----------------------+------+------------
 emaj_gid   | bigint               | yes  | emaj_gid
 emaj_tuple | character varying(3) | yes  | emaj_tuple
primary key, btree, for table "emaj_myschema2.myTbl3_log", clustered

                   Sequence "emaj_myschema2.myTbl3_log_seq"
  Type  | Start | Minimum |       Maximum       | Increment | Cycles? | Cache 
--------+-------+---------+---------------------+-----------+---------+-------
 bigint |     1 |       1 | 9223372036854775807 |         1 | no      |     1

                                     Table "emaj_myschema2.mytbl1_log"
    Column    |           Type           | Collation | Nullable |                  Default                  
--------------+--------------------------+-----------+----------+-------------------------------------------
 col11        | numeric(7,0)             |           |          | 
 col12        | character(10)            |           |          | 
 col13        | bytea                    |           |          | 
 emaj_verb    | character varying(3)     |           | not null | 
 emaj_tuple   | character varying(3)     |           | not null | 
 emaj_gid     | bigint                   |           | not null | nextval('emaj.emaj_global_seq'::regclass)
 emaj_changed | timestamp with time zone |           |          | clock_timestamp()
 emaj_txid    | bigint                   |           |          | txid_current()
 emaj_user    | character varying(32)    |           |          | SESSION_USER
Indexes:
    "mytbl1_log_idx" PRIMARY KEY, btree (emaj_gid, emaj_tuple) CLUSTER

         Index "emaj_myschema2.mytbl1_log_idx"
   Column   |         Type         | Key? | Definition 
------------+----------------------+------+------------
 emaj_gid   | bigint               | yes  | emaj_gid
 emaj_tuple | character varying(3) | yes  | emaj_tuple
primary key, btree, for table "emaj_myschema2.mytbl1_log", clustered

                   Sequence "emaj_myschema2.mytbl1_log_seq"
  Type  | Start | Minimum |       Maximum       | Increment | Cycles? | Cache 
--------+-------+---------+---------------------+-----------+---------+-------
 bigint |     1 |       1 | 9223372036854775807 |         1 | no      |     1

                                     Table "emaj_myschema2.mytbl2_log"
    Column    |           Type           | Collation | Nullable |                  Default                  
--------------+--------------------------+-----------+----------+-------------------------------------------
 col21        | integer                  |           |          | 
 col22        | text                     |           |          | 
 col23        | date                     |           |          | 
 emaj_verb    | character varying(3)     |           | not null | 
 emaj_tuple   | character varying(3)     |           | not null | 
 emaj_gid     | bigint                   |           | not null | nextval('emaj.emaj_global_seq'::regclass)
 emaj_changed | timestamp with time zone |           |          | clock_timestamp()
 emaj_txid    | bigint                   |           |          | txid_current()
 emaj_user    | character varying(32)    |           |          | SESSION_USER
Indexes:
    "mytbl2_log_idx" PRIMARY KEY, btree (emaj_gid, emaj_tuple) CLUSTER

         Index "emaj_myschema2.mytbl2_log_idx"
   Column   |         Type         | Key? | Definition 
------------+----------------------+------+------------
 emaj_gid   | bigint               | yes  | emaj_gid
 emaj_tuple | character varying(3) | yes  | emaj_tuple
primary key, btree, for table "emaj_myschema2.mytbl2_log", clustered

                   Sequence "emaj_myschema2.mytbl2_log_seq"
  Type  | Start | Minimum |       Maximum       | Increment | Cycles? | Cache 
--------+-------+---------+---------------------+-----------+---------+-------
 bigint |     1 |       1 | 9223372036854775807 |         1 | no      |     1

                                     Table "emaj_myschema2.mytbl4_log"
    Column    |           Type           | Collation | Nullable |                  Default                  
--------------+--------------------------+-----------+----------+-------------------------------------------
 col41        | integer                  |           |          | 
 col42        | text                     |           |          | 
 col43        | integer                  |           |          | 
 col44        | numeric(7,0)             |           |          | 
 col45        | character(10)            |           |          | 
 emaj_verb    | character varying(3)     |           | not null | 
 emaj_tuple   | character varying(3)     |           | not null | 
 emaj_gid     | bigint                   |           | not null | nextval('emaj.emaj_global_seq'::regclass)
 emaj_changed | timestamp with time zone |           |          | clock_timestamp()
 emaj_txid    | bigint                   |           |          | txid_current()
 emaj_user    | character varying(32)    |           |          | SESSION_USER
Indexes:
    "mytbl4_log_idx" PRIMARY KEY, btree (emaj_gid, emaj_tuple) CLUSTER

         Index "emaj_myschema2.mytbl4_log_idx"
   Column   |         Type         | Key? | Definition 
------------+----------------------+------+------------
 emaj_gid   | bigint               | yes  | emaj_gid
 emaj_tuple | character varying(3) | yes  | emaj_tuple
primary key, btree, for table "emaj_myschema2.mytbl4_log", clustered

                   Sequence "emaj_myschema2.mytbl4_log_seq"
  Type  | Start | Minimum |       Maximum       | Increment | Cycles? | Cache 
--------+-------+---------+---------------------+-----------+---------+-------
 bigint |     1 |       1 | 9223372036854775807 |         1 | no      |     1

               Table "emaj_myschema6.table_with_50_characters_long_name_____0_________0_log"
    Column    |           Type           | Collation | Nullable |                  Default                  
--------------+--------------------------+-----------+----------+-------------------------------------------
 col1         | integer                  |           |          | 
 emaj_verb    | character varying(3)     |           | not null | 
 emaj_tuple   | character varying(3)     |           | not null | 
 emaj_gid     | bigint                   |           | not null | nextval('emaj.emaj_global_seq'::regclass)
 emaj_changed | timestamp with time zone |           |          | clock_timestamp()
 emaj_txid    | bigint                   |           |          | txid_current()
 emaj_user    | character varying(32)    |           |          | SESSION_USER
Indexes:
    "table_with_50_characters_long_name_____0_________0_log_idx" PRIMARY KEY, btree (emaj_gid, emaj_tuple) CLUSTER

Index "emaj_myschema6.table_with_50_characters_long_name_____0_________0_log_idx"
   Column   |         Type         | Key? | Definition 
------------+----------------------+------+------------
 emaj_gid   | bigint               | yes  | emaj_gid
 emaj_tuple | character varying(3) | yes  | emaj_tuple
primary key, btree, for table "emaj_myschema6.table_with_50_characters_long_name_____0_________0_log", clustered

Sequence "emaj_myschema6.table_with_50_characters_long_name_____0_________0_log_seq"
  Type  | Start | Minimum |       Maximum       | Increment | Cycles? | Cache 
--------+-------+---------+---------------------+-----------+---------+-------
 bigint |     1 |       1 | 9223372036854775807 |         1 | no      |     1

              Table "emaj_myschema6.table_with_51_characters_long_name_____0_________0#1_log"
    Column    |           Type           | Collation | Nullable |                  Default                  
--------------+--------------------------+-----------+----------+-------------------------------------------
 col1         | integer                  |           |          | 
 emaj_verb    | character varying(3)     |           | not null | 
 emaj_tuple   | character varying(3)     |           | not null | 
 emaj_gid     | bigint                   |           | not null | nextval('emaj.emaj_global_seq'::regclass)
 emaj_changed | timestamp with time zone |           |          | clock_timestamp()
 emaj_txid    | bigint                   |           |          | txid_current()
 emaj_user    | character varying(32)    |           |          | SESSION_USER
Indexes:
    "table_with_51_characters_long_name_____0_________0#1_log_idx" PRIMARY KEY, btree (emaj_gid, emaj_tuple) CLUSTER

Index "emaj_myschema6.table_with_51_characters_long_name_____0_________0#1_log_idx"
   Column   |         Type         | Key? | Definition 
------------+----------------------+------+------------
 emaj_gid   | bigint               | yes  | emaj_gid
 emaj_tuple | character varying(3) | yes  | emaj_tuple
primary key, btree, for table "emaj_myschema6.table_with_51_characters_long_name_____0_________0#1_log", clustered

Sequence "emaj_myschema6.table_with_51_characters_long_name_____0_________0#1_log_seq"
  Type  | Start | Minimum |       Maximum       | Increment | Cycles? | Cache 
--------+-------+---------+---------------------+-----------+---------+-------
 bigint |     1 |       1 | 9223372036854775807 |         1 | no      |     1

             Table "emaj_myschema6.table_with_55_characters_long_name_____0_________0#1_log_1"
    Column    |           Type           | Collation | Nullable |                  Default                  
--------------+--------------------------+-----------+----------+-------------------------------------------
 col1         | integer                  |           |          | 
 emaj_verb    | character varying(3)     |           | not null | 
 emaj_tuple   | character varying(3)     |           | not null | 
 emaj_gid     | bigint                   |           | not null | nextval('emaj.emaj_global_seq'::regclass)
 emaj_changed | timestamp with time zone |           |          | clock_timestamp()
 emaj_txid    | bigint                   |           |          | txid_current()
 emaj_user    | character varying(32)    |           |          | SESSION_USER
Indexes:
    "table_with_55_characters_long_name_____0_________0#1_log_idx_1" PRIMARY KEY, btree (emaj_gid, emaj_tuple) CLUSTER

Index "emaj_myschema6.table_with_55_characters_long_name_____0_________0#1_log_idx_1"
   Column   |         Type         | Key? | Definition 
------------+----------------------+------+------------
 emaj_gid   | bigint               | yes  | emaj_gid
 emaj_tuple | character varying(3) | yes  | emaj_tuple
primary key, btree, for table "emaj_myschema6.table_with_55_characters_long_name_____0_________0#1_log_1", clustered

              Table "emaj_myschema6.table_with_55_characters_long_name_____0_________0#2_log"
    Column    |           Type           | Collation | Nullable |                  Default                  
--------------+--------------------------+-----------+----------+-------------------------------------------
 col1         | integer                  |           |          | 
 emaj_verb    | character varying(3)     |           | not null | 
 emaj_tuple   | character varying(3)     |           | not null | 
 emaj_gid     | bigint                   |           | not null | nextval('emaj.emaj_global_seq'::regclass)
 emaj_changed | timestamp with time zone |           |          | clock_timestamp()
 emaj_txid    | bigint                   |           |          | txid_current()
 emaj_user    | character varying(32)    |           |          | SESSION_USER
Indexes:
    "table_with_55_characters_long_name_____0_________0#2_log_idx" PRIMARY KEY, btree (emaj_gid, emaj_tuple) CLUSTER

Index "emaj_myschema6.table_with_55_characters_long_name_____0_________0#2_log_idx"
   Column   |         Type         | Key? | Definition 
------------+----------------------+------+------------
 emaj_gid   | bigint               | yes  | emaj_gid
 emaj_tuple | character varying(3) | yes  | emaj_tuple
primary key, btree, for table "emaj_myschema6.table_with_55_characters_long_name_____0_________0#2_log", clustered

Sequence "emaj_myschema6.table_with_55_characters_long_name_____0_________0#2_log_seq"
  Type  | Start | Minimum |       Maximum       | Increment | Cycles? | Cache 
--------+-------+---------+---------------------+-----------+---------+-------
 bigint |     1 |       1 | 9223372036854775807 |         1 | no      |     1

                                  Table "emaj_phil's schema"3.myTbl2\_log"
    Column    |           Type           | Collation | Nullable |                  Default                  
--------------+--------------------------+-----------+----------+-------------------------------------------
 col21        | integer                  |           |          | 
 col22        | text                     |           |          | 
 col23        | date                     |           |          | 
 col24        | integer                  |           |          | 
 emaj_verb    | character varying(3)     |           | not null | 
 emaj_tuple   | character varying(3)     |           | not null | 
 emaj_gid     | bigint                   |           | not null | nextval('emaj.emaj_global_seq'::regclass)
 emaj_changed | timestamp with time zone |           |          | clock_timestamp()
 emaj_txid    | bigint                   |           |          | txid_current()
 emaj_user    | character varying(32)    |           |          | SESSION_USER
Indexes:
    "myTbl2\_log_idx" PRIMARY KEY, btree (emaj_gid, emaj_tuple) CLUSTER

     Index "emaj_phil's schema"3.myTbl2\_log_idx"
   Column   |         Type         | Key? | Definition 
------------+----------------------+------+------------
 emaj_gid   | bigint               | yes  | emaj_gid
 emaj_tuple | character varying(3) | yes  | emaj_tuple
primary key, btree, for table "emaj_phil's schema"3.myTbl2\_log", clustered

               Sequence "emaj_phil's schema"3.myTbl2\_log_seq"
  Type  | Start | Minimum |       Maximum       | Increment | Cycles? | Cache 
--------+-------+---------+---------------------+-----------+---------+-------
 bigint |     1 |       1 | 9223372036854775807 |         1 | no      |     1

                                Table "emaj_phil's schema"3.phil's tbl1_log"
    Column    |           Type           | Collation | Nullable |                  Default                  
--------------+--------------------------+-----------+----------+-------------------------------------------
 phil's col11 | numeric(7,0)             |           |          | 
 phil's col12 | character(10)            |           |          | 
 phil\s"col13 | bytea                    |           |          | 
 emaj_verb    | character varying(3)     |           | not null | 
 emaj_tuple   | character varying(3)     |           | not null | 
 emaj_gid     | bigint                   |           | not null | nextval('emaj.emaj_global_seq'::regclass)
 emaj_changed | timestamp with time zone |           |          | clock_timestamp()
 emaj_txid    | bigint                   |           |          | txid_current()
 emaj_user    | character varying(32)    |           |          | SESSION_USER
Indexes:
    "phil's tbl1_log_idx" PRIMARY KEY, btree (emaj_gid, emaj_tuple) CLUSTER

   Index "emaj_phil's schema"3.phil's tbl1_log_idx"
   Column   |         Type         | Key? | Definition 
------------+----------------------+------+------------
 emaj_gid   | bigint               | yes  | emaj_gid
 emaj_tuple | character varying(3) | yes  | emaj_tuple
primary key, btree, for table "emaj_phil's schema"3.phil's tbl1_log", clustered

             Sequence "emaj_phil's schema"3.phil's tbl1_log_seq"
  Type  | Start | Minimum |       Maximum       | Increment | Cycles? | Cache 
--------+-------+---------+---------------------+-----------+---------+-------
 bigint |     1 |       1 | 9223372036854775807 |         1 | no      |     1

-- check technical sequences position
select * from emaj.emaj_global_seq;
 last_value | log_cnt | is_called 
------------+---------+-----------
         84 |      15 | t
(1 row)

select * from emaj.emaj_hist_hist_id_seq;
 last_value | log_cnt | is_called 
------------+---------+-----------
        203 |      28 | t
(1 row)

select * from emaj.emaj_time_stamp_time_id_seq;
 last_value | log_cnt | is_called 
------------+---------+-----------
         31 |       2 | t
(1 row)

select * from emaj.emaj_rlbk_rlbk_id_seq;
 last_value | log_cnt | is_called 
------------+---------+-----------
          4 |      29 | t
(1 row)

-- check log sequences position
select * from emaj_myschema1.mytbl1_log_seq;
 last_value | log_cnt | is_called 
------------+---------+-----------
         24 |       9 | t
(1 row)

select * from emaj_myschema1.mytbl2_log_seq;
 last_value | log_cnt | is_called 
------------+---------+-----------
          3 |      30 | t
(1 row)

select * from emaj_myschema1.mytbl2b_log_seq;
 last_value | log_cnt | is_called 
------------+---------+-----------
          3 |      30 | t
(1 row)

select * from emaj_myschema1.mytbl4_log_seq;
 last_value | log_cnt | is_called 
------------+---------+-----------
          9 |      24 | t
(1 row)

select * from emaj_myschema2.mytbl1_log_seq;
 last_value | log_cnt | is_called 
------------+---------+-----------
         15 |      18 | t
(1 row)

select * from emaj_myschema2.mytbl2_log_seq;
 last_value | log_cnt | is_called 
------------+---------+-----------
          2 |      31 | t
(1 row)

select * from emaj_myschema2."myTbl3_log_seq";
 last_value | log_cnt | is_called 
------------+---------+-----------
         10 |      23 | t
(1 row)

select * from emaj_myschema2.mytbl4_log_seq;
 last_value | log_cnt | is_called 
------------+---------+-----------
          8 |      25 | t
(1 row)

select * from "emaj_phil's schema""3"."phil's tbl1_log_seq";
 last_value | log_cnt | is_called 
------------+---------+-----------
          1 |       0 | f
(1 row)

select * from "emaj_phil's schema""3"."myTbl2\_log_seq";
 last_value | log_cnt | is_called 
------------+---------+-----------
          1 |       0 | f
(1 row)

-----------------------------
-- Check the tables and sequences after upgrade
-----------------------------
-- emaj tables and sequences
-- technical tables
select * from emaj.emaj_schema order by sch_name;
       sch_name       | sch_time_id 
----------------------+-------------
 emaj                 |            
 emaj_myschema1       |           5
 emaj_myschema2       |          10
 emaj_myschema6       |          14
 emaj_phil's schema"3 |          12
(5 rows)

select rel_schema, rel_tblseq, rel_time_range, rel_gen_expr_cols from emaj.emaj_relation order by 1,2,3;
   rel_schema    |                       rel_tblseq                        | rel_time_range | rel_gen_expr_cols 
-----------------+---------------------------------------------------------+----------------+-------------------
 myschema1       | myTbl3                                                  | [5,28)         | 
 myschema1       | myTbl3_col31_seq                                        | [9,)           | 
 myschema1       | mytbl1                                                  | [5,)           | 
 myschema1       | mytbl2                                                  | [5,)           | 
 myschema1       | mytbl2b                                                 | [5,)           | {col22,col23}
 myschema1       | mytbl4                                                  | [5,)           | 
 myschema2       | myTbl3                                                  | [10,)          | 
 myschema2       | myTbl3_col31_seq                                        | [11,)          | 
 myschema2       | myseq1                                                  | [11,)          | 
 myschema2       | mytbl1                                                  | [10,)          | 
 myschema2       | mytbl2                                                  | [10,)          | 
 myschema2       | mytbl4                                                  | [10,)          | 
 myschema6       | table_with_50_characters_long_name_____0_________0      | [14,)          | 
 myschema6       | table_with_51_characters_long_name_____0_________0a     | [14,)          | 
 myschema6       | table_with_55_characters_long_name_____0_________0abcde | [14,30)        | 
 myschema6       | table_with_55_characters_long_name_____0_________0fghij | [14,)          | 
 phil's schema"3 | myTbl2\                                                 | [12,)          | {col24}
 phil's schema"3 | phil's tbl1                                             | [12,)          | 
 phil's schema"3 | phil's"seq\1                                            | [13,)          | 
(19 rows)

-- check the environment integrity
select * from emaj.emaj_verify_all();
                                                                                 emaj_verify_all                                                                                  
----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
 Warning: In tables group "myGroup1", the sequence "myschema1"."myTbl3_col31_seq" is linked to the table "myschema1"."myTbl3" but this table does not belong to any tables group.
 Warning: The 'dblink_user_password' parameter value is not set in the emaj_param table.
 No error detected
(3 rows)

